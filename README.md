Конверсия 2.0: расчет заявка --> сделка по коду сессии:
    -берутся все заявки пользователя
    -в течении 180 с момента открытия заявки проверяется ее закрытие, все открытые заявки в этом промежутке не учитываются

Подзадачи вычисления конверсии:
1. Объединить пользователей по телефонам
2. Выделить сессии пользователей

---

sql_request.py - запрос в базу данных

Объединение пользователей по телефонам(data_processing.ipynb)
1. Оистка некорректных телефонов(def clear_numbers()):
    1.1. убрать отдельные некорректные номера
    1.2. убрать символы из номера
    1.3. убрать телефоны с длиной меньше 10
    1.4. для номеров начинающихся с кода 7 или 8, удалить код
    1.5. Уникальным номерам выдается код - порядковый номер в списке

2. Стереть второй номер телефона, если "телефон клиента 1" = "телефону клиента 2"(def drop_dupl())

3. Объединить в сессии(def set_sessions()):
    3.1. Разделить датасет на 2:
        Родительский - с двумя номерами
        Дочерний - с одним номером
    присвоить дочернему датасету ID родительского, если есть совпадения
    3.2. В родительском датасете выделить комбинации, где может быть много разных номеров

---

3.1.1. Удаляем дупликаты из родительского датасета, чтобы присваивался только один индекс

---

3.2.1. В родительском датасете по колонкам ищем сочетания и вытягиваем связанные номера(def full_connection()) - получаем список со свзяанными номерами

3.2.2. Очищаем список уникальных значений от дублей
3.2.3. Исключаем строки номеров, которые встречаются в левом(родительском) и правом(дочернем) столбце
3.2.4. Создаем таблицу с уникальными индексами - группируем по номерам телефонов и получаем минимальный
3.2.5. Присваеваем в таблицу уникальных номеров индексы
3.2.6. Меняем в родительской таблице индексы в соответствии с таблицей уникальных номеров(у связанных номеров поменяется индекс - для некоторых записей индекс будет дублироваться)